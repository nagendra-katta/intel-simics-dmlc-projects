/*
 * Generated by dmlc, do not edit!
 *
 * Source files:
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\modules\dmlc\test\1.2\misc\T_split_output.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\modules\dmlc\test\1.2\testing.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\1.2\dml-builtins.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\simulator\python.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\base\attr-value.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\util\alloc.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\module-host-config.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\util\help-macros.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\util\strbuf.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\base-types.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\host-info.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\build-id.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\build-id-7.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\base\version.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\base\types.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\processor\event.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\processor\time.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\base\event.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\base\time.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\base\conf-object.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\util\vect.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\base\sobject.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\util\hashtab.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\model-iface\register-view.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\pywrap.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\model-iface\int-register.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\model-iface\bank-instrumentation.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\model-iface\instrumentation-provider.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\base\memory-transaction.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\base\memory.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\devs\io-memory.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\1.2\simics-api.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\util\bitcount.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\1.2\simics-processor.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\1.2\simics-memory.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\1.2\simics-hindsight.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\1.2\simics-event.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\1.2\simics-device.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\1.2\simics-configuration.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\1.2\simics-breakpoints.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\1.2\simics-types.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\device-api.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\obsolete\6.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\processor\generic-spr.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\model-iface\breakpoints.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\util\int128.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\util\arith.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\base\cbdata.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\base\breakpoints.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\processor\types.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\util\dbuffer.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\base\sim-exception.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\base\object-locks.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\base\notifier.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\base\map-target.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\base\direct-memory.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\base\transaction.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\base\hap-producer.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\base\global-notifier.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\base\configuration.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\base\log.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\base\clock.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\model-iface\cycle.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\base\local-time.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\base\bigtime.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\base\duration.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\base\callbacks.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\util\frags.dml
 *   C:\Users\nagen\simics-projects\my-intel-simics-project-1\win64\bin\dml\api\6\1.2\simics\util\swabber.dml
 */

#ifndef SIMICS_6_API
#define SIMICS_6_API
#endif

#include "T_split.h"
#include "T_split-protos.c"
conf_class_t *
_initialize_T_split(void)
{

    const class_info_t funcs = {
        .alloc = test_alloc,
        .init = test_init,
        .finalize = test_finalize,
        .objects_finalized = test_objects_finalized,
        .dealloc = test_dealloc,
        .description = "test device",
    };

    conf_class_t *class = SIM_create_class("test", &funcs);
    _dev_class = class;
    if (SIM_clear_exception() != SimExc_No_Exception) {
        fprintf(stderr, "Failed to register class test: %s\n", SIM_last_error());
        return NULL;
    }

    GET_API_FUNCTION(_SIM_rtn, SIM_register_tracked_notifier);
    if (_SIM_rtn != NULL) {
        _SIM_rtn(class, Sim_Notify_State_Change, "Notifier on potential DML state change" , _test_update_has_state_notifier);
    }
    _initialize_traits();
    _initialize_identity_ht();
    _initialize_vtable_hts();
    _initialize_typeseq_after_on_hook_hts();
    _register_events(class);
    _port_class_regs = _register_port_class("test.regs", NULL, NULL);
    SIM_register_port(class, "bank.regs", _port_class_regs, NULL);
    _DML_register_attribute(class, "attr", get_attr, NULL, set_attr, NULL, Sim_Attr_Optional|Sim_Attr_Internal, "b", "Undocumented");
    _register_port_attr(class, _port_class_regs, offsetof(test_t, regs._obj), true, "regs", "r", get_regs_r, set_regs_r, Sim_Attr_Optional|Sim_Attr_Internal, "[i{2}]", "register regs.r[$i]");
    _DML_register_attribute(class, "runtest", get_runtest, NULL, 0, NULL, Sim_Attr_Pseudo|Sim_Attr_Internal, "b", "Undocumented");
    {
        static const bank_instrumentation_subscribe_interface_t bank_instrumentation_subscribe_interface = {
        .disable_connection_callbacks = &_DML_PIFACE_regs__bank_instrumentation_subscribe__disable_connection_callbacks,
        .enable_connection_callbacks = &_DML_PIFACE_regs__bank_instrumentation_subscribe__enable_connection_callbacks,
        .register_after_read = &_DML_PIFACE_regs__bank_instrumentation_subscribe__register_after_read,
        .register_after_write = &_DML_PIFACE_regs__bank_instrumentation_subscribe__register_after_write,
        .register_before_read = &_DML_PIFACE_regs__bank_instrumentation_subscribe__register_before_read,
        .register_before_write = &_DML_PIFACE_regs__bank_instrumentation_subscribe__register_before_write,
        .remove_callback = &_DML_PIFACE_regs__bank_instrumentation_subscribe__remove_callback,
        .remove_connection_callbacks = &_DML_PIFACE_regs__bank_instrumentation_subscribe__remove_connection_callbacks,
    };
        SIM_register_interface(_port_class_regs, "bank_instrumentation_subscribe", &bank_instrumentation_subscribe_interface);
        static const bank_instrumentation_subscribe_interface_t port_iface = {
        .disable_connection_callbacks = &_DML_IFACE_regs__bank_instrumentation_subscribe__disable_connection_callbacks,
        .enable_connection_callbacks = &_DML_IFACE_regs__bank_instrumentation_subscribe__enable_connection_callbacks,
        .register_after_read = &_DML_IFACE_regs__bank_instrumentation_subscribe__register_after_read,
        .register_after_write = &_DML_IFACE_regs__bank_instrumentation_subscribe__register_after_write,
        .register_before_read = &_DML_IFACE_regs__bank_instrumentation_subscribe__register_before_read,
        .register_before_write = &_DML_IFACE_regs__bank_instrumentation_subscribe__register_before_write,
        .remove_callback = &_DML_IFACE_regs__bank_instrumentation_subscribe__remove_callback,
        .remove_connection_callbacks = &_DML_IFACE_regs__bank_instrumentation_subscribe__remove_connection_callbacks,
    };
        SIM_register_port_interface(class, "bank_instrumentation_subscribe", &port_iface, "regs", NULL);
    }
    {
        static const instrumentation_order_interface_t instrumentation_order_interface = {
        .get_connections = &_DML_PIFACE_regs__instrumentation_order__get_connections,
        .move_before = &_DML_PIFACE_regs__instrumentation_order__move_before,
    };
        SIM_register_interface(_port_class_regs, "instrumentation_order", &instrumentation_order_interface);
        static const instrumentation_order_interface_t port_iface = {
        .get_connections = &_DML_IFACE_regs__instrumentation_order__get_connections,
        .move_before = &_DML_IFACE_regs__instrumentation_order__move_before,
    };
        SIM_register_port_interface(class, "instrumentation_order", &port_iface, "regs", NULL);
    }
    {
        static const int_register_interface_t int_register_interface = {
        .all_registers = &_DML_PIFACE_regs__int_register__all_registers,
        .get_name = &_DML_PIFACE_regs__int_register__get_name,
        .get_number = &_DML_PIFACE_regs__int_register__get_number,
        .read = &_DML_PIFACE_regs__int_register__read,
        .register_info = &_DML_PIFACE_regs__int_register__register_info,
        .write = &_DML_PIFACE_regs__int_register__write,
    };
        SIM_register_interface(_port_class_regs, "int_register", &int_register_interface);
        static const int_register_interface_t port_iface = {
        .all_registers = &_DML_IFACE_regs__int_register__all_registers,
        .get_name = &_DML_IFACE_regs__int_register__get_name,
        .get_number = &_DML_IFACE_regs__int_register__get_number,
        .read = &_DML_IFACE_regs__int_register__read,
        .register_info = &_DML_IFACE_regs__int_register__register_info,
        .write = &_DML_IFACE_regs__int_register__write,
    };
        SIM_register_port_interface(class, "int_register", &port_iface, "regs", NULL);
    }
    {
        static const io_memory_interface_t io_memory_interface = {
        .operation = &_DML_PIFACE_regs__io_memory__operation,
    };
        SIM_register_interface(_port_class_regs, "io_memory", &io_memory_interface);
        static const io_memory_interface_t port_iface = {
        .operation = &_DML_IFACE_regs__io_memory__operation,
    };
        SIM_register_port_interface(class, "io_memory", &port_iface, "regs", NULL);
    }
    {
        static const register_view_interface_t register_view_interface = {
        .big_endian_bitorder = &_DML_PIFACE_regs__register_view__big_endian_bitorder,
        .description = &_DML_PIFACE_regs__register_view__description,
        .get_register_value = &_DML_PIFACE_regs__register_view__get_register_value,
        .number_of_registers = &_DML_PIFACE_regs__register_view__number_of_registers,
        .register_info = &_DML_PIFACE_regs__register_view__register_info,
        .set_register_value = &_DML_PIFACE_regs__register_view__set_register_value,
    };
        SIM_register_interface(_port_class_regs, "register_view", &register_view_interface);
        static const register_view_interface_t port_iface = {
        .big_endian_bitorder = &_DML_IFACE_regs__register_view__big_endian_bitorder,
        .description = &_DML_IFACE_regs__register_view__description,
        .get_register_value = &_DML_IFACE_regs__register_view__get_register_value,
        .number_of_registers = &_DML_IFACE_regs__register_view__number_of_registers,
        .register_info = &_DML_IFACE_regs__register_view__register_info,
        .set_register_value = &_DML_IFACE_regs__register_view__set_register_value,
    };
        SIM_register_port_interface(class, "register_view", &port_iface, "regs", NULL);
    }
    {
        static const register_view_catalog_interface_t register_view_catalog_interface = {
        .register_names = &_DML_PIFACE_regs__register_view_catalog__register_names,
        .register_offsets = &_DML_PIFACE_regs__register_view_catalog__register_offsets,
    };
        SIM_register_interface(_port_class_regs, "register_view_catalog", &register_view_catalog_interface);
        static const register_view_catalog_interface_t port_iface = {
        .register_names = &_DML_IFACE_regs__register_view_catalog__register_names,
        .register_offsets = &_DML_IFACE_regs__register_view_catalog__register_offsets,
    };
        SIM_register_port_interface(class, "register_view_catalog", &port_iface, "regs", NULL);
    }
    {
        static const x_interface_t x_interface = {
        .fun = &_DML_IFACE_x__fun,
    };
        SIM_register_interface(class, "x", &x_interface);
    }

    const char *const log_groups[] = {
        "Register_Read",
        "Register_Write",
        NULL
    };
    SIM_log_register_groups(class, log_groups);
    SIM_log_register_groups(_port_class_regs, log_groups);

    _startup_calls();
    return class;
}

